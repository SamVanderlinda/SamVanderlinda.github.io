{"version":3,"sources":["components/VideoEmbed.js","components/Header.js","App.js","reportWebVitals.js","index.js"],"names":["VideoEmbed","videoID","startTime","url","src","title","headingStyle","color","backgroundColor","textAlign","subHeadingStyle","Header","style","vids","App","props","_onRecordingComplete","blob","a","blobToBuffer","err","buffer","console","error","mp3file","File","formData","FormData","append","state","window","URL","revokeObjectURL","axios","post","headers","then","response","log","data","videos","catch","setState","createObjectURL","_onRecordingError","video_insert","map","vid","index","this","display","flexDirection","justifyContent","alignItems","minHeight","onRecordingComplete","onRecordingError","margin","controls","minWidth","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c49b43cd.chunk.js","sourcesContent":["const VideoEmbed = ({videoID, startTime}) => {\n    const url = `https://youtube.com/embed/${videoID}?start=${startTime}`\n    return (\n        <>\n            <iframe\n            src={url}\n            title='Embedded Video'\n            />\n        </>\n    )\n}\n\nexport default VideoEmbed\n","const Header = () => {\n    return (\n        <>\n            <h1 style={headingStyle}> Echo-Vids</h1>\n            <h2 style={subHeadingStyle}> An Audio Recommender Platform for the Sounds in Life</h2>\n        </>\n    )\n}\n\nconst headingStyle = {\n    color:'White',\n    backgroundColor:'#ff4931',\n    textAlign:\"center\"\n}\n\nconst subHeadingStyle = {\n    color:'Grey',\n    textAlign:\"center\"\n}\n\nexport default Header\n","// import React, { Component } from 'react';\n// import YouTube from 'react-youtube';\n\n// export default class App extends Component {\n//   render() {\n//     const opts = {\n//       height: '390',\n//       width: '640',\n//       playerVars: {\n//         // https://developers.google.com/youtube/player_parameters\n//         autoplay: 1,\n//       },\n//     };\n\n//     return <YouTube videoId=\"2g811Eo7K8U\" opts={opts} />;\n//   }\n\n//   _onReady(event) {\n//     // access to player in all event handlers via event.target\n//     event.target.pauseVideo();\n//   }\n// }\n\nimport React, { Component } from 'react'\nimport axios from \"axios\"\nimport Recorder from 'react-mp3-recorder'\nimport ReactAudioPlayer from 'react-audio-player'\nimport {saveAs} from 'file-saver';\nimport VideoEmbed from './components/VideoEmbed';\nimport Header from \"./components/Header\";\n\nimport blobToBuffer from 'blob-to-buffer'\n// import ribbon from './ribbon.png'\n\nlet vids = [['ArsKCV3rkc4', 0], ['4HSkwF586ro', 1], ['QM4qxOYDwHo', 0], ['ArsKCV3rkc4', 0], ['ArsKCV3rkc4', 0], ['ArsKCV3rkc4', 0], ['ArsKCV3rkc4', 0], ['ArsKCV3rkc4', 0], ['ArsKCV3rkc4', 0], ['ArsKCV3rkc4', 0], ['ArsKCV3rkc4', 0], ['ArsKCV3rkc4', 0], ['ArsKCV3rkc4', 0], ['ArsKCV3rkc4', 0], ['ArsKCV3rkc4', 0]];\nconst API_KEY = \"AIzaSyBqaWB1aHNyOlzNZ1o1VlQSzx1434urZfA\";\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      url: '',\n      blob: '',\n      vids: [['ArsKCV3rkc4', 0], ['4HSkwF586ro', 1], ['QM4qxOYDwHo', 0], ['ArsKCV3rkc4', 0], ['ArsKCV3rkc4', 0], ['ArsKCV3rkc4', 0], ['ArsKCV3rkc4', 0], ['ArsKCV3rkc4', 0], ['ArsKCV3rkc4', 0], ['ArsKCV3rkc4', 0], ['ArsKCV3rkc4', 0], ['ArsKCV3rkc4', 0], ['ArsKCV3rkc4', 0], ['ArsKCV3rkc4', 0], ['ArsKCV3rkc4', 0]]\n    };\n  }\n\n  render () {\n\n    const {\n      url,\n      blob\n    } = this.state\n\n    return (\n      <div>\n        <Header />\n\n        <div\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'center',\n            alignItems: 'center',\n            textAlign: 'center',\n            minHeight: '100vh'\n          }}\n        >\n          <div>\n            <Recorder\n              onRecordingComplete={this._onRecordingComplete}\n              onRecordingError={this._onRecordingError}\n              style={{\n                margin: '0 auto'\n              }}\n            />\n\n            <p>\n              Click and hold to start recording for at least 5 seconds.\n            </p>\n\n            {url && (\n              <div>\n                <ReactAudioPlayer\n                  src={url}\n                  controls\n                  style={{\n                    minWidth: '500px'\n                  }}\n                />\n                {this.video_insert()}\n              </div>\n            )}\n          </div>\n          \n        </div>\n      </div>\n    )\n  }\n\n  _onRecordingComplete = async (blob) => {\n    blobToBuffer(blob, async (err, buffer) => {\n      if (err) {\n        console.error(err)\n        return\n      }\n      var mp3file = new File([blob], \"recording.mp3\");\n      var formData = new FormData();\n      formData.append(\"rawAudioData\", mp3file)\n\n      if (this.state.url) {\n        window.URL.revokeObjectURL(this.state.url)\n      }\n\n      await axios.post('http://f6aa-35-233-154-26.ngrok.io/recommend', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      })\n      .then(function (response) {\n        console.log(response);\n        vids = response.data.videos;\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n\n\n      this.setState({\n        url: window.URL.createObjectURL(blob),\n        blob: blob,\n        vids: vids,\n      });\n    })\n  }\n\n  _onRecordingError = (err) => {\n    console.log('error recording', err)\n\n    if (this.state.url) {\n      window.URL.revokeObjectURL(this.state.url)\n    }\n\n    this.setState({ url: null, blob: '' , vids: [['ArsKCV3rkc4', 0], ['4HSkwF586ro', 1], ['QM4qxOYDwHo', 0]]})\n  };\n\n\n  video_insert = () => {\n\n    // https://www.googleapis.com/youtube/v3/videos?id=VIDEOID&part=status&key=APIKEY\n    // let unavailable = [];\n    // for (var i = 0; i < 10; i++) {\n    //   var status = fetch(`https://www.googleapis.com/youtube/v3/videos?id=${this.state.vids[i][0]}&part=status&key=${API_KEY}`);\n    //   console.log(status);\n    // }\n    return (\n      <>\n      <br/>\n        {this.state.vids.map(function(vid, index){\n                    return <VideoEmbed videoID={vid[0]} startTime={vid[1]}/>;\n                  })}\n          </>\n    );\n  } \n\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}